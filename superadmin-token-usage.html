<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brainzeta ‚Äî Token Usage</title>
  <link rel="stylesheet" href="styles/base.css" />
  <style>
    /* ====== PAGE-SPECIFIC: SVG Line Chart ====== */
    .line-chart-wrapper {
      width: 100%;
      overflow: hidden;
    }
    .line-chart-wrapper svg {
      width: 100%;
      height: 200px;
      display: block;
    }
    .chart-x-labels {
      display: flex;
      justify-content: space-between;
      padding: 4px 8px 0;
    }
    .chart-x-label {
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      text-align: center;
      flex: 1;
    }

    /* ====== PAGE-SPECIFIC: Donut Chart ====== */
    .pie-chart-wrapper {
      display: flex;
      align-items: center;
      gap: 2.5rem;
      flex-wrap: wrap;
    }
    .donut-chart {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: conic-gradient(
        #2563EB 0% 45%,
        #10B981 45% 70%,
        #F59E0B 70% 85%,
        #EF4444 85% 100%
      );
      flex-shrink: 0;
      position: relative;
    }
    .donut-hole {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: #fff;
      border-radius: 50%;
    }
    .donut-legend {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: var(--font-size-sm);
    }
    .legend-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
    }
  </style>
</head>
<body>

<!-- ====== APP SHELL ====== -->
<div class="app-shell">

  <!-- ====== SIDEBAR ====== -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <span class="sidebar-logo-text">Brainzeta</span>
    </div>
    <nav>
      <ul class="sidebar-nav list-plain">
        <li><a href="superadmin-dashboard.html" class="sidebar-nav-item"><span class="nav-icon">üè†</span> Dashboard</a></li>
        <li><a href="superadmin-schools-list.html" class="sidebar-nav-item"><span class="nav-icon">üè´</span> Schools</a></li>
        <li><a href="superadmin-textbooks.html" class="sidebar-nav-item"><span class="nav-icon">üìö</span> Textbooks</a></li>
        <li><a href="superadmin-token-usage.html" class="sidebar-nav-item active"><span class="nav-icon">ü™ô</span> Token Usage</a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <a href="user-profile.html" class="sidebar-nav-item"><span class="nav-icon">üë§</span> My Profile</a>
      <a href="login.html" class="sidebar-nav-item"><span class="nav-icon">üö™</span> Sign Out</a>
    </div>
  </aside>
  <!-- ====== END SIDEBAR ====== -->

  <!-- ====== MAIN AREA ====== -->
  <div class="main-wrapper">

    <!-- ====== TOPBAR ====== -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="topbar-title">Token Usage</div>
      </div>
      <div class="topbar-right">
        <span class="topbar-role-badge">Super Admin</span>
        <button class="topbar-notif-btn">üîî<span class="notif-badge">3</span></button>
        <div class="topbar-avatar">SA</div>
      </div>
    </header>
    <!-- ====== END TOPBAR ====== -->

    <!-- ====== PAGE CONTENT ====== -->
    <main class="page-content">

      <!-- ====== BREADCRUMB ====== -->
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="superadmin-dashboard.html">Home</a>
        <span class="breadcrumb-sep">‚Ä∫</span>
        <span>Token Usage</span>
      </nav>

      <!-- ====== PAGE HEADER ====== -->
      <div class="page-header">
        <div class="page-header-left">
          <h1 class="page-title">System-wide Token Usage</h1>
        </div>
        <div class="page-actions">
          <button class="btn btn-secondary">Export CSV</button>
        </div>
      </div>

      <!-- ====== FILTER BAR ====== -->
      <div class="filter-bar">
        <label class="form-label" for="date-range" style="margin: 0; white-space: nowrap;">Date Range:</label>
        <select class="form-control form-select" id="date-range" name="date_range" style="width: auto;">
          <option value="30" selected>Last 30 Days</option>
          <option value="7">Last 7 Days</option>
          <option value="90">Last 90 Days</option>
          <option value="custom">Custom Range</option>
        </select>
      </div>
      <!-- ====== END FILTER BAR ====== -->

      <!-- ====== USAGE TREND LINE CHART ====== -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Usage Trend ‚Äî Last 30 Days</h2>
        </div>
        <div class="card-body">
          <div class="chart-area">
            <div class="line-chart-wrapper">
              <!-- SVG Line Chart: 9 data points, upward trend with slight variance -->
              <svg viewBox="0 0 800 200" xmlns="http://www.w3.org/2000/svg" aria-label="Line chart showing token usage trend over last 30 days">
                <!-- Grid lines -->
                <line x1="0" y1="160" x2="800" y2="160" stroke="#e0e0e0" stroke-width="1"/>
                <line x1="0" y1="120" x2="800" y2="120" stroke="#e0e0e0" stroke-width="1"/>
                <line x1="0" y1="80" x2="800" y2="80" stroke="#e0e0e0" stroke-width="1"/>
                <line x1="0" y1="40" x2="800" y2="40" stroke="#e0e0e0" stroke-width="1"/>
                <!-- Y-axis labels -->
                <text x="8" y="164" font-size="11" fill="#999">0</text>
                <text x="8" y="124" font-size="11" fill="#999">25k</text>
                <text x="8" y="84" font-size="11" fill="#999">50k</text>
                <text x="8" y="44" font-size="11" fill="#999">75k</text>
                <!-- Area fill -->
                <path d="M 50,145 L 150,132 L 250,118 L 350,125 L 450,105 L 550,88 L 650,72 L 720,60 L 780,48 L 780,180 L 50,180 Z"
                      fill="#2563EB" fill-opacity="0.08"/>
                <!-- Line -->
                <polyline
                  points="50,145 150,132 250,118 350,125 450,105 550,88 650,72 720,60 780,48"
                  fill="none"
                  stroke="#2563EB"
                  stroke-width="2.5"
                  stroke-linejoin="round"
                  stroke-linecap="round"
                />
                <!-- Data points -->
                <circle cx="50"  cy="145" r="4" fill="#2563EB"/>
                <circle cx="150" cy="132" r="4" fill="#2563EB"/>
                <circle cx="250" cy="118" r="4" fill="#2563EB"/>
                <circle cx="350" cy="125" r="4" fill="#2563EB"/>
                <circle cx="450" cy="105" r="4" fill="#2563EB"/>
                <circle cx="550" cy="88"  r="4" fill="#2563EB"/>
                <circle cx="650" cy="72"  r="4" fill="#2563EB"/>
                <circle cx="720" cy="60"  r="4" fill="#2563EB"/>
                <circle cx="780" cy="48"  r="4" fill="#2563EB"/>
              </svg>
              <div class="chart-x-labels">
                <span class="chart-x-label">Jan 1</span>
                <span class="chart-x-label">Jan 4</span>
                <span class="chart-x-label">Jan 8</span>
                <span class="chart-x-label">Jan 12</span>
                <span class="chart-x-label">Jan 15</span>
                <span class="chart-x-label">Jan 19</span>
                <span class="chart-x-label">Jan 23</span>
                <span class="chart-x-label">Jan 27</span>
                <span class="chart-x-label">Jan 30</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ====== END USAGE TREND LINE CHART ====== -->

      <!-- ====== TOP SCHOOLS TABLE ====== -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Top 10 Schools by Token Consumption</h2>
        </div>
        <div class="card-body" style="padding: 0;">
          <div class="table-wrapper" style="margin: 0; border: none;">
            <table class="table">
              <thead>
                <tr>
                  <th>School</th>
                  <th>Tokens Used</th>
                  <th>Estimated Cost</th>
                  <th>% of Total</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><a href="superadmin-school-details.html">ABC School</a></td>
                  <td>25,000</td>
                  <td>$580</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 18%; background: var(--color-primary);"></div>
                      <span>18%</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><a href="superadmin-school-details.html">XYZ Academy</a></td>
                  <td>18,500</td>
                  <td>$430</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 13%; background: var(--color-primary);"></div>
                      <span>13%</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><a href="superadmin-school-details.html">DEF High School</a></td>
                  <td>16,200</td>
                  <td>$376</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 12%; background: var(--color-primary);"></div>
                      <span>12%</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><a href="superadmin-school-details.html">Sunrise International</a></td>
                  <td>14,800</td>
                  <td>$344</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 11%; background: var(--color-primary);"></div>
                      <span>11%</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><a href="superadmin-school-details.html">Westlake Academy</a></td>
                  <td>12,500</td>
                  <td>$290</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 9%; background: var(--color-primary);"></div>
                      <span>9%</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><a href="superadmin-school-details.html">Green Valley</a></td>
                  <td>11,000</td>
                  <td>$256</td>
                  <td>
                    <div class="progress-bar-inline">
                      <div class="progress-fill" style="width: 8%; background: var(--color-primary);"></div>
                      <span>8%</span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- ====== END TOP SCHOOLS TABLE ====== -->

      <!-- ====== USAGE BY ASSESSMENT TYPE ====== -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Usage by Assessment Type</h2>
        </div>
        <div class="card-body">
          <div class="chart-area">
            <div class="pie-chart-wrapper">
              <!-- Donut chart via conic-gradient -->
              <div class="donut-chart" role="img" aria-label="Donut chart: Exams 45%, Assignments 25%, Quizzes 15%, Practice 15%">
                <div class="donut-hole"></div>
              </div>
              <!-- Legend -->
              <div class="donut-legend">
                <div class="legend-item">
                  <div class="legend-dot" style="background: #2563EB;"></div>
                  <span>Exams ‚Äî <strong>45%</strong></span>
                </div>
                <div class="legend-item">
                  <div class="legend-dot" style="background: #10B981;"></div>
                  <span>Assignments ‚Äî <strong>25%</strong></span>
                </div>
                <div class="legend-item">
                  <div class="legend-dot" style="background: #F59E0B;"></div>
                  <span>Quizzes ‚Äî <strong>15%</strong></span>
                </div>
                <div class="legend-item">
                  <div class="legend-dot" style="background: #EF4444;"></div>
                  <span>Practice ‚Äî <strong>15%</strong></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ====== END USAGE BY ASSESSMENT TYPE ====== -->

    </main>
    <!-- ====== END PAGE CONTENT ====== -->

  </div>
  <!-- ====== END MAIN AREA ====== -->

</div>
<!-- ====== END APP SHELL ====== -->

</body>
</html>
