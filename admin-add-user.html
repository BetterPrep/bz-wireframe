<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brainzeta ‚Äî Add New User</title>
  <link rel="stylesheet" href="styles/base.css">
  <style>
    /* ====== Role radio inputs ‚Äî hidden, controlled by label clicks ====== */
    .role-radio { display: none; }

    /* ====== Role tab pills ====== */
    .role-tab-group {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .role-tab {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 20px;
      border: 1.5px solid var(--color-border);
      border-radius: 999px;
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--color-text-muted);
      cursor: pointer;
      background: #fff;
      transition: none;
      user-select: none;
    }
    .role-tab:hover {
      border-color: var(--color-primary);
      color: var(--color-primary);
    }

    /* Active tab ‚Äî driven by :checked state */
    #role-teacher:checked ~ .page-body label[for="role-teacher"],
    #role-student:checked ~ .page-body label[for="role-student"],
    #role-parent:checked  ~ .page-body label[for="role-parent"],
    #role-staff:checked   ~ .page-body label[for="role-staff"] {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: #fff;
    }

    /* ====== Role form sections ‚Äî all hidden by default ====== */
    .role-form { display: none; }

    /* Show the matching section based on which radio is checked */
    #role-teacher:checked ~ .page-body .teacher-form { display: block; }
    #role-student:checked ~ .page-body .student-form { display: block; }
    #role-parent:checked  ~ .page-body .parent-form  { display: block; }
    #role-staff:checked   ~ .page-body .staff-form   { display: block; }

    /* ====== Shared form layout helpers ====== */
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .form-section-title {
      font-size: var(--font-size-sm);
      font-weight: 600;
      color: var(--color-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin: 24px 0 16px;
    }
    .divider {
      border: none;
      border-top: 1px solid var(--color-border);
      margin: 24px 0;
    }
    .checkbox-group.grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    /* ====== Second parent toggle (CSS-only) ====== */
    /* The #add-second-parent checkbox and the elements it controls
       must all be siblings inside .parent-form */
    #add-second-parent { display: none; }
    .second-parent-block { display: none; }
    #add-second-parent:checked ~ .second-parent-block { display: block; }
    #add-second-parent:checked ~ .add-parent-btn { display: none; }

    .add-parent-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 18px;
      border: 1.5px dashed var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      color: var(--color-primary);
      cursor: pointer;
      background: none;
      margin-top: 4px;
    }
    .add-parent-btn:hover {
      background: #f0f6ff;
      border-color: var(--color-primary);
    }
    .remove-parent-btn {
      font-size: var(--font-size-sm);
      color: #DC2626;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }
  </style>
</head>
<body>
<div class="app-shell">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo"><span class="sidebar-logo-text">Brainzeta</span></div>
    <nav>
      <ul class="sidebar-nav list-plain">
        <li><a href="admin-dashboard.html" class="sidebar-link">üè† Dashboard</a></li>
        <li><a href="admin-users-list.html" class="sidebar-link sidebar-link--active">üë• Users</a></li>
        <li class="sidebar-section-label">ACADEMIC</li>
        <li><a href="admin-teacher-sections.html" class="sidebar-link">üóÇÔ∏è Teacher Sections</a></li>
        <li><a href="admin-curriculum-mapping.html" class="sidebar-link">üìã Curriculum</a></li>
        <li class="sidebar-section-label">LIBRARY</li>
        <li><a href="admin-textbook-library.html" class="sidebar-link">üìñ Textbook Library</a></li>
        <li><a href="admin-upload-textbook.html" class="sidebar-link">üì§ Upload Textbook</a></li>
        <li class="sidebar-section-label">REPORTS</li>
        <li><a href="admin-token-usage.html" class="sidebar-link">ü™ô Token Usage</a></li>
        <li><a href="admin-reports.html" class="sidebar-link">üìä Reports</a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <a href="user-profile.html" class="sidebar-link">üë§ My Profile</a>
      <a href="login.html" class="sidebar-link">üö™ Sign Out</a>
    </div>
  </aside>

  <div class="main-wrapper">

    <!-- TOPBAR -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="topbar-title">Add New User</div>
      </div>
      <div class="topbar-right">
        <span class="topbar-role-badge">School Admin</span>
        <div class="topbar-avatar">JD</div>
      </div>
    </header>

    <main class="page-content">

      <!--
        CSS-only role switcher:
        Hidden radio inputs MUST be siblings of .page-body so that
        the :checked ~ .page-body selector works correctly.
      -->
      <input type="radio" id="role-teacher" name="role" class="role-radio" checked>
      <input type="radio" id="role-student" name="role" class="role-radio">
      <input type="radio" id="role-parent"  name="role" class="role-radio">
      <input type="radio" id="role-staff"   name="role" class="role-radio">

      <!-- Everything below is inside .page-body so :checked ~ .page-body can reach it -->
      <div class="page-body">

        <!-- BREADCRUMB -->
        <nav class="breadcrumb">
          <a href="admin-dashboard.html">Home</a>
          <span class="breadcrumb-sep">‚Ä∫</span>
          <a href="admin-users-list.html">User Management</a>
          <span class="breadcrumb-sep">‚Ä∫</span>
          <span>Add New User</span>
        </nav>

        <!-- PAGE HEADER -->
        <div class="page-header">
          <h1>Add New User</h1>
        </div>

        <!-- ROLE SELECTOR CARD -->
        <div class="card" style="margin-bottom: 16px;">
          <div class="card-body">
            <div class="form-group" style="margin-bottom: 0;">
              <label class="form-label">Select Role <span class="required">*</span></label>
              <div class="role-tab-group">
                <label for="role-teacher" class="role-tab">üë©‚Äçüè´ Teacher</label>
                <label for="role-student" class="role-tab">üë®‚Äçüéì Student</label>
                <label for="role-parent"  class="role-tab">üë™ Parent</label>
                <label for="role-staff"   class="role-tab">üóÇÔ∏è School Assistant</label>
              </div>
            </div>
          </div>
        </div>

        <!-- ====== FORM CARD ====== -->
        <div class="card">
          <div class="card-body">

            <!-- ==================== TEACHER FORM ==================== -->
            <div class="role-form teacher-form">

              <div class="form-section-title">Teacher Information</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Full Name <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. Priya Verma">
                </div>
                <div class="form-group">
                  <label class="form-label">Email <span class="required">*</span></label>
                  <input class="form-input" type="email" placeholder="e.g. p.verma@school.edu">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Phone <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="form-group">
                  <label class="form-label">Username <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. p.verma">
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Auto-generated Password</label>
                <div class="d-flex gap-8 align-center">
                  <div class="password-input-wrapper" style="flex: 1;">
                    <input class="form-input" type="text" value="Temp@2026">
                    <button type="button" class="password-toggle-btn">üëÅ</button>
                  </div>
                  <button type="button" class="btn btn-secondary btn-sm">üîÑ Regenerate</button>
                </div>
                <span class="form-hint">Password will be emailed to the user on creation</span>
              </div>

              <hr class="divider">
              <div class="form-section-title">Subjects, Grades &amp; Sections</div>

              <div class="form-group">
                <label class="form-label">Subjects Taught <span class="required">*</span></label>
                <div class="checkbox-group grid-3">
                  <label class="checkbox-label"><input type="checkbox" checked> Mathematics</label>
                  <label class="checkbox-label"><input type="checkbox"> Physics</label>
                  <label class="checkbox-label"><input type="checkbox"> Chemistry</label>
                  <label class="checkbox-label"><input type="checkbox"> English</label>
                  <label class="checkbox-label"><input type="checkbox"> History</label>
                  <label class="checkbox-label"><input type="checkbox"> Geography</label>
                  <label class="checkbox-label"><input type="checkbox"> Political Science</label>
                  <label class="checkbox-label"><input type="checkbox"> Economics</label>
                  <label class="checkbox-label"><input type="checkbox"> Social Science</label>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Grades Assigned <span class="required">*</span></label>
                <div class="checkbox-group d-flex gap-16 flex-wrap">
                  <label class="checkbox-label"><input type="checkbox"> 6</label>
                  <label class="checkbox-label"><input type="checkbox"> 7</label>
                  <label class="checkbox-label"><input type="checkbox"> 8</label>
                  <label class="checkbox-label"><input type="checkbox"> 9</label>
                  <label class="checkbox-label"><input type="checkbox" checked> 10</label>
                  <label class="checkbox-label"><input type="checkbox" checked> 11</label>
                  <label class="checkbox-label"><input type="checkbox" checked> 12</label>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Sections Assigned <span class="required">*</span></label>
                <div class="checkbox-group d-flex gap-16 flex-wrap">
                  <label class="checkbox-label"><input type="checkbox" checked> A</label>
                  <label class="checkbox-label"><input type="checkbox" checked> B</label>
                  <label class="checkbox-label"><input type="checkbox"> C</label>
                  <label class="checkbox-label"><input type="checkbox"> D</label>
                </div>
                <span class="form-hint">Sections across all assigned grades</span>
              </div>

              <div class="form-actions">
                <a href="admin-users-list.html" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Create Teacher</button>
              </div>

            </div>
            <!-- END TEACHER FORM -->

            <!-- ==================== STUDENT FORM ==================== -->
            <div class="role-form student-form">

              <div class="form-section-title">Student Information</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Full Name <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. Arjun Mehta">
                </div>
                <div class="form-group">
                  <label class="form-label">Email <span class="required">*</span></label>
                  <input class="form-input" type="email" placeholder="e.g. arjun.m@school.edu">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Phone</label>
                  <input class="form-input" type="text" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="form-group">
                  <label class="form-label">Username <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. arjun.mehta">
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Auto-generated Password</label>
                <div class="d-flex gap-8 align-center">
                  <div class="password-input-wrapper" style="flex: 1;">
                    <input class="form-input" type="text" value="Temp@2026">
                    <button type="button" class="password-toggle-btn">üëÅ</button>
                  </div>
                  <button type="button" class="btn btn-secondary btn-sm">üîÑ Regenerate</button>
                </div>
                <span class="form-hint">Password will be emailed to the student on creation</span>
              </div>

              <hr class="divider">
              <div class="form-section-title">Academic Details</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Grade <span class="required">*</span></label>
                  <select class="form-input form-select">
                    <option value="" selected disabled>Select grade</option>
                    <option>Grade 6</option>
                    <option>Grade 7</option>
                    <option>Grade 8</option>
                    <option>Grade 9</option>
                    <option>Grade 10</option>
                    <option>Grade 11</option>
                    <option>Grade 12</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">Section <span class="required">*</span></label>
                  <select class="form-input form-select">
                    <option value="" selected disabled>Select section</option>
                    <option>Section A</option>
                    <option>Section B</option>
                    <option>Section C</option>
                    <option>Section D</option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Roll Number</label>
                  <input class="form-input" type="text" placeholder="e.g. 2024001">
                </div>
                <div class="form-group">
                  <label class="form-label">Date of Birth</label>
                  <input class="form-input" type="text" placeholder="DD / MM / YYYY">
                </div>
              </div>

              <div class="form-actions">
                <a href="admin-users-list.html" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Create Student</button>
              </div>

            </div>
            <!-- END STUDENT FORM -->

            <!-- ==================== PARENT FORM ==================== -->
            <!--
              Second-parent toggle: #add-second-parent checkbox MUST come before
              .add-parent-btn and .second-parent-block as a sibling inside .parent-form,
              so that the :checked ~ selector works correctly.
            -->
            <div class="role-form parent-form">

              <div class="form-section-title">Parent / Guardian 1</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Full Name <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. Sunita Mehta">
                </div>
                <div class="form-group">
                  <label class="form-label">Email <span class="required">*</span></label>
                  <input class="form-input" type="email" placeholder="e.g. sunita.m@gmail.com">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Phone <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="form-group">
                  <label class="form-label">Relationship <span class="required">*</span></label>
                  <select class="form-input form-select">
                    <option value="" selected disabled>Select relationship</option>
                    <option>Father</option>
                    <option>Mother</option>
                    <option>Guardian</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Auto-generated Password</label>
                <div class="d-flex gap-8 align-center">
                  <div class="password-input-wrapper" style="flex: 1;">
                    <input class="form-input" type="text" value="Temp@2026">
                    <button type="button" class="password-toggle-btn">üëÅ</button>
                  </div>
                  <button type="button" class="btn btn-secondary btn-sm">üîÑ Regenerate</button>
                </div>
                <span class="form-hint">Password will be emailed to the parent on creation</span>
              </div>

              <hr class="divider">
              <div class="form-section-title">Linked Student</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Student Name <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="Search by student name or roll no.">
                  <span class="form-hint">Search and select from enrolled students</span>
                </div>
                <div class="form-group">
                  <label class="form-label">Grade &amp; Section</label>
                  <input class="form-input" type="text" value="Grade 10 ‚Äî Section A" disabled>
                  <span class="form-hint">Auto-filled on student selection</span>
                </div>
              </div>

              <hr class="divider">

              <!-- Hidden checkbox ‚Äî controls second-parent visibility via CSS siblings -->
              <input type="checkbox" id="add-second-parent">

              <!-- "Add" button: hidden when checkbox is checked -->
              <label for="add-second-parent" class="add-parent-btn">Ôºã Add Second Parent / Guardian</label>

              <!-- Second parent block: shown when checkbox is checked -->
              <div class="second-parent-block">

                <div class="d-flex justify-between align-center" style="margin-bottom: 16px;">
                  <div class="form-section-title" style="margin: 0;">
                    Parent / Guardian 2
                    <span style="font-weight: 400; color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 6px;">(Optional)</span>
                  </div>
                  <!-- Clicking this unchecks the checkbox, hiding this block -->
                  <label for="add-second-parent" class="remove-parent-btn">‚úï Remove</label>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input class="form-input" type="text" placeholder="e.g. Rajesh Mehta">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email</label>
                    <input class="form-input" type="email" placeholder="e.g. rajesh.m@gmail.com">
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input class="form-input" type="text" placeholder="+91 XXXXX XXXXX">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Relationship</label>
                    <select class="form-input form-select">
                      <option value="" selected disabled>Select relationship</option>
                      <option>Father</option>
                      <option>Mother</option>
                      <option>Guardian</option>
                    </select>
                  </div>
                </div>

              </div>
              <!-- END second-parent-block -->

              <div class="form-actions">
                <a href="admin-users-list.html" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Create Parent</button>
              </div>

            </div>
            <!-- END PARENT FORM -->

            <!-- ==================== SCHOOL ASSISTANT (STAFF) FORM ==================== -->
            <div class="role-form staff-form">

              <div class="form-section-title">School Assistant Information</div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Full Name <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. Kavya Pillai">
                </div>
                <div class="form-group">
                  <label class="form-label">Email <span class="required">*</span></label>
                  <input class="form-input" type="email" placeholder="e.g. k.pillai@school.edu">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Phone <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="form-group">
                  <label class="form-label">Username <span class="required">*</span></label>
                  <input class="form-input" type="text" placeholder="e.g. k.pillai">
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Auto-generated Password</label>
                <div class="d-flex gap-8 align-center">
                  <div class="password-input-wrapper" style="flex: 1;">
                    <input class="form-input" type="text" value="Temp@2026">
                    <button type="button" class="password-toggle-btn">üëÅ</button>
                  </div>
                  <button type="button" class="btn btn-secondary btn-sm">üîÑ Regenerate</button>
                </div>
                <span class="form-hint">Password will be emailed to the school assistant on creation</span>
              </div>

              <hr class="divider">
              <div class="form-section-title">Teacher Assignments</div>

              <!-- Hint explaining what teacher assignment means -->
              <p style="font-size: var(--font-size-sm); color: var(--color-text-muted); margin: 0 0 16px;">
                Select the teachers this School Assistant will support. They will gain access to all assessments and submissions created by each assigned teacher.
              </p>

              <div class="form-group">
                <label class="form-label">Assigned Teachers <span class="required">*</span></label>
                <div class="checkbox-group" style="display: flex; flex-direction: column; gap: 12px; margin-top: 4px;">

                  <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" checked>
                    <div>
                      <strong>Mr. Ramesh Sharma</strong>
                      <span style="color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 8px;">Mathematics ¬∑ Grades 10, 11, 12</span>
                    </div>
                  </label>

                  <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox">
                    <div>
                      <strong>Ms. Priya Verma</strong>
                      <span style="color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 8px;">Physics ¬∑ Grades 11, 12</span>
                    </div>
                  </label>

                  <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox">
                    <div>
                      <strong>Mr. Amit Gupta</strong>
                      <span style="color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 8px;">Chemistry ¬∑ Grades 11, 12</span>
                    </div>
                  </label>

                  <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox">
                    <div>
                      <strong>Ms. Sunita Rao</strong>
                      <span style="color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 8px;">Economics ¬∑ Grade 12</span>
                    </div>
                  </label>

                  <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox">
                    <div>
                      <strong>Mr. Vikram Nair</strong>
                      <span style="color: var(--color-text-muted); font-size: var(--font-size-xs); margin-left: 8px;">Political Science ¬∑ Grade 12</span>
                    </div>
                  </label>

                </div>
              </div>

              <div class="form-actions">
                <a href="admin-users-list.html" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Create School Assistant</button>
              </div>

            </div>
            <!-- END SCHOOL ASSISTANT FORM -->

          </div>
        </div>
        <!-- END FORM CARD -->

      </div><!-- /.page-body -->

    </main>
  </div><!-- /.main-wrapper -->
</div><!-- /.app-shell -->
</body>
</html>
